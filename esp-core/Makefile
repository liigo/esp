#-------------------------------------------------------------------------
# This is the Makefile of “esp-core”, generated by Makefile-gen.
#-------------------------------------------------------------------------
# 
#-------------------------------------------------------------------------
# 
#-------------------------------------------------------------------------

###############################################################################
## 输出文件名 (output file name, such as: abc.so)
OUTPUT_FILE = ../lib/libesp-core.a

###############################################################################

## 编译器
COMPILER = g++

## 编译选项 (compile flags)
COMPLIE_FLAGS = -s -O3 -w -fPIC -c -D NDEBUG -finput-charset=GB18030

###############################################################################

## 连接器
LINKER = g++

## 链接选项 (link flags)
LINK_FLAGS = -s -O3

###############################################################################
## 变量 (vars)
INCLUDE_PATHS = -I. -I/usr/include/apr-1 
LIB_PATHS = -L. -L/usr/lib 

# 编译某个源文件 (usage: $(COMPILE) x.cpp)
COMPILE = $(COMPILER) $(COMPLIE_FLAGS) $(INCLUDE_PATHS) -o $@

#链接生成可执行文件或动态库
LINK = $(LINKER) $(LINK_FLAGS) $(LIB_PATHS) $? -o $(OUTPUT_FILE) 

# 打包为静态库
AR = ar rcs $(OUTPUT_FILE) $?

###############################################################################
#
# $@: rule itself
# $?: rule's dependence
#

all: clean output delete-temp-file


output: esp_clientapi.o esp_dollarexpr.o esp_errors.o esp_globals.o esp_internal.o esp_log.o esp_managers.o esp_objects.o esp_prop.o esp_request.o esp_serverapi.o esp_session.o esp_template.o esp_utils.o md5.o string_util.o ___other_html-parser_HtmlParser.o 
	$(AR)

clean:
	-rm -f *.o
	-rm -f $(OUTPUT_FILE)

delete-temp-file:
	-rm -f *.o


### compiles all source files to *.o


esp_clientapi.o:
	$(COMPILE) esp_clientapi.cpp

esp_dollarexpr.o:
	$(COMPILE) esp_dollarexpr.cpp

esp_errors.o:
	$(COMPILE) esp_errors.cpp

esp_globals.o:
	$(COMPILE) esp_globals.cpp

esp_internal.o:
	$(COMPILE) esp_internal.cpp

esp_log.o:
	$(COMPILE) esp_log.cpp

esp_managers.o:
	$(COMPILE) esp_managers.cpp

esp_objects.o:
	$(COMPILE) esp_objects.cpp

esp_prop.o:
	$(COMPILE) esp_prop.cpp

esp_request.o:
	$(COMPILE) esp_request.cpp

esp_serverapi.o:
	$(COMPILE) esp_serverapi.cpp

esp_session.o:
	$(COMPILE) esp_session.cpp

esp_template.o:
	$(COMPILE) esp_template.cpp

esp_utils.o:
	$(COMPILE) esp_utils.cpp

md5.o:
	$(COMPILE) md5.cpp

string_util.o:
	$(COMPILE) string_util.cpp

___other_html-parser_HtmlParser.o:
	$(COMPILE) ../other/html-parser/HtmlParser.cpp


